<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>iOS编程常用方法 | spike 代码之美</title>
  <meta name="author" content="John Doe">
  
  <meta name="description" content="项目中的controller太多，不知道具体运行的是哪一个。建立UIViewController的Category-(void)viewDidAppear:(BOOL)animated &amp;#123;   NSLog(@&amp;quot;===%@===&amp;quot;,NSStringFromClass([s">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="iOS编程常用方法"/>
  <meta property="og:site_name" content="spike 代码之美"/>

  
    <meta property="og:image" content="undefined"/>
  

  
    <link rel="alternative" href="/atom.xml" title="spike 代码之美" type="application/atom+xml">
  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">  
  <link rel="stylesheet" href="/css/sidenav.css" media="screen" type="text/css">  
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  

</head>

<body id="body" data-spy="scroll" data-target=".toc">
  <div class="container" id="container">
	<div class="content">
	  <div class="page-header">		
  <h1><a class="brand" href="/">spike 代码之美</a><span class="split"></span><span class="title">iOS编程常用方法</span><span class="date" id="title-date"><i class="fa fa-clock-o"></i> 2016-05-25</span></h1>
</div>		

<div class="row page">
  <!-- cols -->	
  
  

  
	<div class="col-md-12">
	  

	  <!-- content -->
	  <h5 id="项目中的controller太多，不知道具体运行的是哪一个。"><a href="#项目中的controller太多，不知道具体运行的是哪一个。" class="headerlink" title="项目中的controller太多，不知道具体运行的是哪一个。"></a>项目中的controller太多，不知道具体运行的是哪一个。</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">建立UIViewController的Category</span><br><span class="line">-(void)viewDidAppear:(BOOL)animated &#123;</span><br><span class="line">   NSLog(@&quot;===%@===&quot;,NSStringFromClass([self class]));</span><br><span class="line">&#125;</span><br><span class="line">这样在运行时就可以知道运行的是哪一个了。</span><br></pre></td></tr></table></figure>
<h5 id="如何将状态栏中的字体颜色变白"><a href="#如何将状态栏中的字体颜色变白" class="headerlink" title="如何将状态栏中的字体颜色变白"></a>如何将状态栏中的字体颜色变白</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1 、将info.plist中的 View controller-based status bar appearance  设为 NO</span><br><span class="line">2、在对应的viewcontrolle.m里添加</span><br><span class="line"> //设置状态栏颜色    [[UIApplication sharedApplication] setStatusBarStyle:UIStatusBarStyleLightContent animated:NO];</span><br><span class="line">就设置成功了。</span><br></pre></td></tr></table></figure>
<h5 id="获取状态栏和导航栏高度、宽度信息"><a href="#获取状态栏和导航栏高度、宽度信息" class="headerlink" title="获取状态栏和导航栏高度、宽度信息"></a>获取状态栏和导航栏高度、宽度信息</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">iPhone开发当中，有时需要获取状态栏和导航栏高度、宽度信息，方便布局其他控件。下面介绍一下如何获取这些信息(可直接将结果放在全局宏中方便使用)：</span><br><span class="line">// 状态栏(statusbar)  </span><br><span class="line">    CGRect rectStatus = [[UIApplication sharedApplication] statusBarFrame];  </span><br><span class="line">    NSLog(@&quot;status width - %f&quot;, rectStatus.size.width);   </span><br><span class="line">    NSLog(@&quot;status height - %f&quot;, rectStatus.size.height); </span><br><span class="line">      </span><br><span class="line">// 导航栏（navigationbar）  </span><br><span class="line">    CGRect rectNav = self.navigationController.navigationBar.frame;  </span><br><span class="line">    NSLog(@&quot;nav width - %f&quot;, rectNav.size.width);   </span><br><span class="line">    NSLog(@&quot;nav height - %f&quot;, rectNav.size.height);</span><br></pre></td></tr></table></figure>
<h5 id="检测是否为手机号"><a href="#检测是否为手机号" class="headerlink" title="检测是否为手机号"></a>检测是否为手机号</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">- (BOOL)validateMobile:(NSString *)mobileNum&#123;    NSString *regex = @&quot;^1[3|5|7|8][0-9]\\d&#123;8&#125;$&quot;;    NSPredicate *pred = [NSPredicate predicateWithFormat:@&quot;SELF MATCHES %@&quot;, regex];        if(![pred evaluateWithObject:mobileNum])    &#123;        return NO;    &#125;        else    &#123;        return YES;    &#125;&#125;</span><br></pre></td></tr></table></figure>
<h5 id="获取当前年月日及星期几"><a href="#获取当前年月日及星期几" class="headerlink" title="获取当前年月日及星期几"></a>获取当前年月日及星期几</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">NSArray * arrWeek=[NSArray arrayWithObjects:@&quot;星期日&quot;,@&quot;星期一&quot;,@&quot;星期二&quot;,@&quot;星期三&quot;,@&quot;星期四&quot;,@&quot;星期五&quot;,@&quot;星期六&quot;, nil];</span><br><span class="line">    NSDate *date = [NSDate date];</span><br><span class="line">    NSCalendar *calendar = [[NSCalendar alloc] initWithCalendarIdentifier:NSCalendarIdentifierGregorian] ;</span><br><span class="line">    NSDateComponents *comps = [[NSDateComponents alloc] init] ;</span><br><span class="line">    NSInteger unitFlags = NSCalendarUnitYear |</span><br><span class="line">    NSCalendarUnitMonth |</span><br><span class="line">    NSCalendarUnitDay |</span><br><span class="line">    NSCalendarUnitWeekday |</span><br><span class="line">    NSCalendarUnitHour |</span><br><span class="line">    NSCalendarUnitMinute |</span><br><span class="line">    NSCalendarUnitSecond;</span><br><span class="line">    comps = [calendar components:unitFlags fromDate:date];</span><br><span class="line">    int week = [comps weekday]-1;</span><br><span class="line">    int year=[comps year];</span><br><span class="line">    int month = [comps month];</span><br><span class="line">    int day = [comps day];</span><br><span class="line">    NSString *timeForShow=[[NSString stringWithFormat:@&quot;%d年%d月%d日,&quot;,year,month,day] stringByAppendingString:[NSString stringWithFormat:@&quot;%@&quot;,[arrWeek objectAtIndex:week]]];</span><br><span class="line">    NSLog(@&quot;%@&quot;,timeForShow);</span><br></pre></td></tr></table></figure>
<h5 id="抽取controller"><a href="#抽取controller" class="headerlink" title="抽取controller"></a>抽取controller</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">当一个项目里有大量的controller时，可以抽取出一个通用的basicController这样可以总体的设置某些属性。</span><br><span class="line">#import &quot;SDBasicViewContoller.h&quot;</span><br><span class="line"></span><br><span class="line">@implementation SDBasicViewContoller</span><br><span class="line"></span><br><span class="line">- (void)viewDidLoad</span><br><span class="line">&#123;</span><br><span class="line">    self.view.backgroundColor = [UIColor whiteColor];</span><br><span class="line">    </span><br><span class="line">    [self.navigationItem.backBarButtonItem setTitleTextAttributes:@&#123;NSFontAttributeName : [UIFont systemFontOfSize:5]&#125; forState:UIControlStateNormal];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//这样的话可以通用的设置整体的属性</span><br><span class="line">@end</span><br></pre></td></tr></table></figure>
<h5 id="返回按钮只留下白色箭头"><a href="#返回按钮只留下白色箭头" class="headerlink" title="返回按钮只留下白色箭头"></a>返回按钮只留下白色箭头</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[[UIBarButtonItem appearance] setBackButtonTitlePositionAdjustment:UIOffsetMake(0, -60)                                                        forBarMetrics:UIBarMetricsDefault];</span><br></pre></td></tr></table></figure>
<h5 id="获取当前时间"><a href="#获取当前时间" class="headerlink" title="获取当前时间"></a>获取当前时间</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">NSDate *timeDate=[NSDate date];    NSDateFormatter * dateformatter=[[NSDateFormatter alloc] init];    [dateformatter setDateFormat:@&quot;YYYYMMddHHmmsssss&quot;];    NSString *locationString=[dateformatter stringFromDate:timeDate];</span><br></pre></td></tr></table></figure>
<h5 id="判断一个类是否存在"><a href="#判断一个类是否存在" class="headerlink" title="判断一个类是否存在"></a>判断一个类是否存在</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">我们在开发的过程中难免会用到低版本中没有的类，如果我们想让我们的应用尽可能的兼容多个版本，我们需要考虑。</span><br><span class="line">Class pkClass=NSClassFromString(@&quot;PKAddPassesViewController&quot;);</span><br><span class="line">    if (pkClass) &#123;</span><br><span class="line">     NSLog(@&quot;available&quot;);</span><br><span class="line">// 如果可以使用，我们可以使用passkit的一些功能</span><br><span class="line">    &#125;else</span><br><span class="line">    &#123;  NSLog(@&quot;unavailable&quot;);</span><br><span class="line">如果不可以，我们就要提示用户，或者进行一些其他的处理</span><br><span class="line">  &#125;</span><br><span class="line">NSString *pkClassStr=NSStringFromClass([PKAddPassesViewController class]);</span><br><span class="line">    if (pkClassStr) &#123;</span><br><span class="line">        NSLog(@&quot;available&quot;);</span><br><span class="line">// 如果可以使用，我们可以使用passkit的一些功能</span><br><span class="line">    &#125;else &#123;</span><br><span class="line"> NSLog(@&quot;unavailable&quot;);</span><br><span class="line">如果不可以，我们就要提示用户，或者进行一些其他的处理</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h5 id="退出应用"><a href="#退出应用" class="headerlink" title="退出应用"></a>退出应用</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">带有一些动画效果：</span><br><span class="line">AppDelegate *app = [UIApplication sharedApplication].delegate;UIWindow *window = app.window;     [UIView animateWithDuration:0.4f animations:^&#123;     window.alpha = 0;     CGFloat y = window.bounds.size.height;     CGFloat x = window.bounds.size.width / 2;     window.frame = CGRectMake(x, y, 0, 0);&#125; completion:^(BOOL finished) &#123;     exit(0);&#125;];</span><br></pre></td></tr></table></figure>
<h5 id="截屏"><a href="#截屏" class="headerlink" title="截屏"></a>截屏</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">-(void)snapshot</span><br><span class="line">&#123;</span><br><span class="line">    //开启上下文</span><br><span class="line">    UIGraphicsBeginImageContext(self.view.bounds.size);</span><br><span class="line">    //拿到上下文</span><br><span class="line">    CGContextRef context=UIGraphicsGetCurrentContext();</span><br><span class="line">    [self.view.layer renderInContext:context];</span><br><span class="line">    UIImage *image=UIGraphicsGetImageFromCurrentImageContext();</span><br><span class="line">    UIGraphicsEndImageContext();</span><br><span class="line">    //保存到相册</span><br><span class="line">    UIImageWriteToSavedPhotosAlbum(image, self, @selector(image:didFinishSavingWithError:contextInfo:), nil);</span><br><span class="line">&#125;</span><br><span class="line">- (void)image:(UIImage *)image didFinishSavingWithError:(NSError *)error contextInfo:(void *)contextInfo</span><br><span class="line">&#123;</span><br><span class="line">    if (!error) &#123;</span><br><span class="line">        NSLog(@&quot;save success&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="应用中的数据存储"><a href="#应用中的数据存储" class="headerlink" title="应用中的数据存储"></a>应用中的数据存储</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">集中存储的方式：</span><br><span class="line">1 属性列表</span><br><span class="line">2 Preference（NSUserDefaults）</span><br><span class="line">3 键值归档（NSKeyeArchiver,NSCoding）</span><br><span class="line">4 SQLite数据库</span><br><span class="line">5 Core Data </span><br><span class="line"></span><br><span class="line">NSUserDefaults只支持： NSString, NSNumber, NSDate, NSArray, NSDictionary.</span><br><span class="line">NSUserDefaults适合存储轻量级的本地数据，比如要保存一个登陆界面的数据，用户名、密码之类的，个人觉得使用NSUserDefaults是首选。下次再登陆的时候就可以直接从NSUserDefaults里面读取上次登陆的信息咯。</span><br><span class="line">用NSUserDefaults存储的数据下次程序运行的时候依然存在，它把数据存储在什么地方了？如何能够清除？</span><br><span class="line">其实它存储在应用程序内置的一个plist文件里。</span><br></pre></td></tr></table></figure>
<h5 id="判断邮箱格式"><a href="#判断邮箱格式" class="headerlink" title="判断邮箱格式"></a>判断邮箱格式</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">判断邮箱格式是否正确的代码：</span><br><span class="line">	// 利用正则表达式验证 -( BOOL )isValidateEmail:( NSString  *)email  </span><br><span class="line">	&#123;  </span><br><span class="line">	NSString  *emailRegex =  @&quot;[A-Z0-9a-z._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]&#123;2,4&#125;&quot; ;  </span><br><span class="line">	NSPredicate  *emailTest = [ NSPredicate   predicateWithFormat : @&quot;SELF MATCHES%@&quot; ,emailRegex];  </span><br><span class="line">	return  [emailTest  evaluateWithObject :email];  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="判断程序是否为第一次启动"><a href="#判断程序是否为第一次启动" class="headerlink" title="判断程序是否为第一次启动"></a>判断程序是否为第一次启动</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">if(![[NSUserDefaults standardUserDefaults] boolForKey:@&quot;firstLaunch&quot;])&#123;        [[NSUserDefaults standardUserDefaults] setBool:YES forKey:@&quot;firstLaunch&quot;];        NSLog(@&quot;第一次启动&quot;);        [[NSUserDefaults standardUserDefaults] setBool:NO forKey:@&quot;isLogin&quot;];</span><br><span class="line">&#125;else&#123;        NSLog(@&quot;已经不是第一次启动了&quot;);    &#125;</span><br></pre></td></tr></table></figure>
<h5 id="处理标签字符串中的空格-换行-t-制表符-等"><a href="#处理标签字符串中的空格-换行-t-制表符-等" class="headerlink" title="处理标签字符串中的空格,换行,/t(制表符)等"></a>处理标签字符串中的空格,换行,/t(制表符)等</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">- (NSString *)replaceStringWithString :(NSMutableString *)string&#123;    NSString *string1 = [string stringByReplacingOccurrencesOfString:@&quot;\n&quot; withString:@&quot;&quot;] ;    NSString *string2 = [string1 stringByReplacingOccurrencesOfString:@&quot; &quot; withString:@&quot;&quot;] ;    NSString *string3 = [string2 stringByReplacingOccurrencesOfString:@&quot;\r&quot; withString:@&quot;&quot;] ;    NSString *string4 = [string3 stringByReplacingOccurrencesOfString:@&quot;\t&quot; withString:@&quot;&quot;] ;    return string4 ;&#125;</span><br></pre></td></tr></table></figure>
<h5 id="UIImage与字符串互转"><a href="#UIImage与字符串互转" class="headerlink" title="UIImage与字符串互转"></a>UIImage与字符串互转</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">//图片转字符串  -(NSString *)UIImageToBase64Str:(UIImage *) image  &#123;      NSData *data = UIImageJPEGRepresentation(image, 1.0f);      NSString *encodedImageStr = [data base64EncodedStringWithOptions:NSDataBase64Encoding64CharacterLineLength];      return encodedImageStr;  &#125;</span><br><span class="line">//字符串转图片  -(UIImage *)Base64StrToUIImage:(NSString *)_encodedImageStr  &#123;      NSData *_decodedImageData   = [[NSData alloc] initWithBase64Encoding:_encodedImageStr];      UIImage *_decodedImage      = [UIImage imageWithData:_decodedImageData];      return _decodedImage;  &#125;</span><br></pre></td></tr></table></figure>
<h5 id="时间处理"><a href="#时间处理" class="headerlink" title="时间处理"></a>时间处理</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">===输出当前时间</span><br><span class="line">NSDate *currentDate = [NSDate date];//获取当前时间，日期</span><br><span class="line">NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];</span><br><span class="line">[dateFormatter setDateFormat:@&quot;YYYY/MM/dd hh:mm:ss&quot;];</span><br><span class="line">NSString *dateString = [dateFormatter stringFromDate:currentDate];</span><br><span class="line">NSLog(@&quot;dateString1:%@&quot;,dateString);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">===UTC/GMT</span><br><span class="line">- (NSDate *)getNowDateFromatAnDate:(NSDate *)anyDate  </span><br><span class="line">&#123;  </span><br><span class="line">    //设置源日期时区  </span><br><span class="line">    NSTimeZone* sourceTimeZone = [NSTimeZone timeZoneWithAbbreviation:@&quot;UTC&quot;];//或GMT  </span><br><span class="line">    //设置转换后的目标日期时区  </span><br><span class="line">    NSTimeZone* destinationTimeZone = [NSTimeZone localTimeZone];  </span><br><span class="line">    //得到源日期与世界标准时间的偏移量  </span><br><span class="line">    NSInteger sourceGMTOffset = [sourceTimeZone secondsFromGMTForDate:anyDate];  </span><br><span class="line">    //目标日期与本地时区的偏移量  </span><br><span class="line">    NSInteger destinationGMTOffset = [destinationTimeZone secondsFromGMTForDate:anyDate];  </span><br><span class="line">    //得到时间偏移量的差值  </span><br><span class="line">    NSTimeInterval interval = destinationGMTOffset - sourceGMTOffset;  </span><br><span class="line">    //转为现在时间  </span><br><span class="line">    NSDate* destinationDateNow = [[[NSDate alloc] initWithTimeInterval:interval sinceDate:anyDate] autorelease];  </span><br><span class="line">    return destinationDateNow;  </span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line">===//NSString 2 NSDate</span><br><span class="line">- (NSDate *)stringToDate:(NSString *)strdate</span><br><span class="line">&#123;</span><br><span class="line">    NSDateFormatter *dateFormatter = [[NSDateFormatteralloc] init];</span><br><span class="line">    [dateFormatter setDateFormat:@&quot;yyyy-MM-dd HH:mm:ss&quot;];</span><br><span class="line">    NSDate *retdate = [dateFormatter dateFromString:strdate];</span><br><span class="line">    [dateFormatter release];</span><br><span class="line">    return retdate;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">===//NSDate 2 NSString</span><br><span class="line">- (NSString *)dateToString:(NSDate *)date</span><br><span class="line">&#123;</span><br><span class="line">    NSDateFormatter *dateFormatter = [[NSDateFormatteralloc] init];</span><br><span class="line">    [dateFormatter setDateFormat:@&quot;yyyy-MM-dd HH:mm:ss&quot;];</span><br><span class="line">    NSString *strDate = [dateFormatter stringFromDate:date];</span><br><span class="line">    [dateFormatter release];</span><br><span class="line">    return strDate;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">===//将本地日期字符串转为UTC日期字符串  </span><br><span class="line">//本地日期格式:2013-08-03 12:53:51  </span><br><span class="line">//可自行指定输入输出格式  </span><br><span class="line">-(NSString *)getUTCFormateLocalDate:(NSString *)localDate  </span><br><span class="line">&#123;  </span><br><span class="line">    NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];  </span><br><span class="line">    //输入格式  </span><br><span class="line">    [dateFormatter setDateFormat:@&quot;yyyy-MM-dd HH:mm:ss&quot;];  </span><br><span class="line">      </span><br><span class="line">    NSDate *dateFormatted = [dateFormatter dateFromString:localDate];  </span><br><span class="line">    NSTimeZone *timeZone = [NSTimeZone timeZoneWithName:@&quot;UTC&quot;];  </span><br><span class="line">    [dateFormatter setTimeZone:timeZone];  </span><br><span class="line">    //输出格式  </span><br><span class="line">    [dateFormatter setDateFormat:@&quot;yyyy-MM-dd&apos;T&apos;HH:mm:ssZ&quot;];  </span><br><span class="line">    NSString *dateString = [dateFormatter stringFromDate:dateFormatted];  </span><br><span class="line">    [dateFormatter release];  </span><br><span class="line">    return dateString;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line">===//将UTC日期字符串转为本地时间字符串  </span><br><span class="line">//输入的UTC日期格式2013-08-03T04:53:51+0000  </span><br><span class="line">-(NSString *)getLocalDateFormateUTCDate:(NSString *)utcDate  </span><br><span class="line">&#123;  </span><br><span class="line">    NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];  </span><br><span class="line">    //输入格式  </span><br><span class="line">    [dateFormatter setDateFormat:@&quot;yyyy-MM-dd&apos;T&apos;HH:mm:ssZ&quot;];  </span><br><span class="line">    NSTimeZone *localTimeZone = [NSTimeZone localTimeZone];  </span><br><span class="line">    [dateFormatter setTimeZone:localTimeZone];  </span><br><span class="line">      </span><br><span class="line">    NSDate *dateFormatted = [dateFormatter dateFromString:utcDate];  </span><br><span class="line">    //输出格式  </span><br><span class="line">    [dateFormatter setDateFormat:@&quot;yyyy-MM-dd HH:mm:ss&quot;];  </span><br><span class="line">    NSString *dateString = [dateFormatter stringFromDate:dateFormatted];  </span><br><span class="line">    [dateFormatter release];  </span><br><span class="line">    return dateString;  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line">===//通过传入时间utc/gmt转为现在本地时间的字符串</span><br><span class="line">- (NSString *)getNowDateFromatAnDate:(NSDate *)anyDate</span><br><span class="line">&#123;</span><br><span class="line">    //设置源日期时区</span><br><span class="line">    NSTimeZone* sourceTimeZone = [NSTimeZone timeZoneWithAbbreviation:@&quot;UTC&quot;];//或GMT</span><br><span class="line">    //设置转换后的目标日期时区</span><br><span class="line">    NSTimeZone* destinationTimeZone = [NSTimeZone localTimeZone];</span><br><span class="line">    //得到源日期与世界标准时间的偏移量</span><br><span class="line">    NSInteger sourceGMTOffset = [sourceTimeZone secondsFromGMTForDate:anyDate];</span><br><span class="line">    //目标日期与本地时区的偏移量</span><br><span class="line">    NSInteger destinationGMTOffset = [destinationTimeZone secondsFromGMTForDate:anyDate];</span><br><span class="line">    //得到时间偏移量的差值</span><br><span class="line">    NSTimeInterval interval = destinationGMTOffset - sourceGMTOffset;</span><br><span class="line">    //转为现在时间</span><br><span class="line">    NSDate* destinationDateNow = [[NSDate alloc] initWithTimeInterval:interval sinceDate:anyDate] ;</span><br><span class="line">    NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];</span><br><span class="line">    //输出格式</span><br><span class="line">    [dateFormatter setDateFormat:@&quot;yyyy-MM-dd HH:mm:ss&quot;];</span><br><span class="line">    NSTimeZone *timeZone = [NSTimeZone timeZoneWithName:@&quot;GMT&quot;];</span><br><span class="line">    [dateFormatter setTimeZone:timeZone];</span><br><span class="line">    NSString *dateString = [dateFormatter stringFromDate:destinationDateNow];</span><br><span class="line">    return dateString;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="获取设备版本"><a href="#获取设备版本" class="headerlink" title="获取设备版本"></a>获取设备版本</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">+ (NSString*)deviceVersion&#123;    // 需要#import &quot;sys/utsname.h&quot;    struct utsname systemInfo;    uname(&amp;systemInfo);    NSString *deviceString = [NSString stringWithCString:systemInfo.machine encoding:NSUTF8StringEncoding];    //iPhone    if ([deviceString isEqualToString:@&quot;iPhone1,1&quot;])    return @&quot;iPhone 1G&quot;;    if ([deviceString isEqualToString:@&quot;iPhone1,2&quot;])    return @&quot;iPhone 3G&quot;;    if ([deviceString isEqualToString:@&quot;iPhone2,1&quot;])    return @&quot;iPhone 3GS&quot;;    if ([deviceString isEqualToString:@&quot;iPhone3,1&quot;])    return @&quot;iPhone 4&quot;;    if ([deviceString isEqualToString:@&quot;iPhone3,2&quot;])    return @&quot;Verizon iPhone 4&quot;;    if ([deviceString isEqualToString:@&quot;iPhone4,1&quot;])    return @&quot;iPhone 4S&quot;;    if ([deviceString isEqualToString:@&quot;iPhone5,1&quot;])    return @&quot;iPhone 5&quot;;    if ([deviceString isEqualToString:@&quot;iPhone5,2&quot;])    return @&quot;iPhone 5&quot;;    if ([deviceString isEqualToString:@&quot;iPhone5,3&quot;])    return @&quot;iPhone 5C&quot;;    if ([deviceString isEqualToString:@&quot;iPhone5,4&quot;])    return @&quot;iPhone 5C&quot;;    if ([deviceString isEqualToString:@&quot;iPhone6,1&quot;])    return @&quot;iPhone 5S&quot;;    if ([deviceString isEqualToString:@&quot;iPhone6,2&quot;])    return @&quot;iPhone 5S&quot;;    if ([deviceString isEqualToString:@&quot;iPhone7,1&quot;])    return @&quot;iPhone 6 Plus&quot;;    if ([deviceString isEqualToString:@&quot;iPhone7,2&quot;])    return @&quot;iPhone 6&quot;;    if ([deviceString isEqualToString:@&quot;iPhone8,1&quot;])    return @&quot;iPhone 6s&quot;;    if ([deviceString isEqualToString:@&quot;iPhone8,2&quot;])    return @&quot;iPhone 6s Plus&quot;;        //iPod    if ([deviceString isEqualToString:@&quot;iPod1,1&quot;])      return @&quot;iPod Touch 1G&quot;;    if ([deviceString isEqualToString:@&quot;iPod2,1&quot;])      return @&quot;iPod Touch 2G&quot;;    if ([deviceString isEqualToString:@&quot;iPod3,1&quot;])      return @&quot;iPod Touch 3G&quot;;    if ([deviceString isEqualToString:@&quot;iPod4,1&quot;])      return @&quot;iPod Touch 4G&quot;;    if ([deviceString isEqualToString:@&quot;iPod5,1&quot;])      return @&quot;iPod Touch 5G&quot;;        //iPad    if ([deviceString isEqualToString:@&quot;iPad1,1&quot;])      return @&quot;iPad&quot;;    if ([deviceString isEqualToString:@&quot;iPad2,1&quot;])      return @&quot;iPad 2 (WiFi)&quot;;    if ([deviceString isEqualToString:@&quot;iPad2,2&quot;])      return @&quot;iPad 2 (GSM)&quot;;    if ([deviceString isEqualToString:@&quot;iPad2,3&quot;])      return @&quot;iPad 2 (CDMA)&quot;;    if ([deviceString isEqualToString:@&quot;iPad2,4&quot;])      return @&quot;iPad 2 (32nm)&quot;;    if ([deviceString isEqualToString:@&quot;iPad2,5&quot;])      return @&quot;iPad mini (WiFi)&quot;;    if ([deviceString isEqualToString:@&quot;iPad2,6&quot;])      return @&quot;iPad mini (GSM)&quot;;    if ([deviceString isEqualToString:@&quot;iPad2,7&quot;])      return @&quot;iPad mini (CDMA)&quot;;        if ([deviceString isEqualToString:@&quot;iPad3,1&quot;])      return @&quot;iPad 3(WiFi)&quot;;    if ([deviceString isEqualToString:@&quot;iPad3,2&quot;])      return @&quot;iPad 3(CDMA)&quot;;    if ([deviceString isEqualToString:@&quot;iPad3,3&quot;])      return @&quot;iPad 3(4G)&quot;;    if ([deviceString isEqualToString:@&quot;iPad3,4&quot;])      return @&quot;iPad 4 (WiFi)&quot;;    if ([deviceString isEqualToString:@&quot;iPad3,5&quot;])      return @&quot;iPad 4 (4G)&quot;;    if ([deviceString isEqualToString:@&quot;iPad3,6&quot;])      return @&quot;iPad 4 (CDMA)&quot;;        if ([deviceString isEqualToString:@&quot;iPad4,1&quot;])      return @&quot;iPad Air&quot;;    if ([deviceString isEqualToString:@&quot;iPad4,2&quot;])      return @&quot;iPad Air&quot;;    if ([deviceString isEqualToString:@&quot;iPad4,3&quot;])      return @&quot;iPad Air&quot;;    if ([deviceString isEqualToString:@&quot;iPad5,3&quot;])      return @&quot;iPad Air 2&quot;;    if ([deviceString isEqualToString:@&quot;iPad5,4&quot;])      return @&quot;iPad Air 2&quot;;    if ([deviceString isEqualToString:@&quot;i386&quot;])         return @&quot;Simulator&quot;;    if ([deviceString isEqualToString:@&quot;x86_64&quot;])       return @&quot;Simulator&quot;;        if ([deviceString isEqualToString:@&quot;iPad4,4&quot;]        ||[deviceString isEqualToString:@&quot;iPad4,5&quot;]        ||[deviceString isEqualToString:@&quot;iPad4,6&quot;])      return @&quot;iPad mini 2&quot;;        if ([deviceString isEqualToString:@&quot;iPad4,7&quot;]        ||[deviceString isEqualToString:@&quot;iPad4,8&quot;]        ||[deviceString isEqualToString:@&quot;iPad4,9&quot;])      return @&quot;iPad mini 3&quot;;        return deviceString;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="阿拉伯数字转化为汉语数字"><a href="#阿拉伯数字转化为汉语数字" class="headerlink" title="阿拉伯数字转化为汉语数字"></a>阿拉伯数字转化为汉语数字</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">+(NSString *)translation:(NSString *)arebic</span><br><span class="line"></span><br><span class="line">&#123;   NSString *str = arebic;</span><br><span class="line">    NSArray *arabic_numerals = @[@&quot;1&quot;,@&quot;2&quot;,@&quot;3&quot;,@&quot;4&quot;,@&quot;5&quot;,@&quot;6&quot;,@&quot;7&quot;,@&quot;8&quot;,@&quot;9&quot;,@&quot;0&quot;];</span><br><span class="line">    NSArray *chinese_numerals = @[@&quot;一&quot;,@&quot;二&quot;,@&quot;三&quot;,@&quot;四&quot;,@&quot;五&quot;,@&quot;六&quot;,@&quot;七&quot;,@&quot;八&quot;,@&quot;九&quot;,@&quot;零&quot;];</span><br><span class="line">    NSArray *digits = @[@&quot;个&quot;,@&quot;十&quot;,@&quot;百&quot;,@&quot;千&quot;,@&quot;万&quot;,@&quot;十&quot;,@&quot;百&quot;,@&quot;千&quot;,@&quot;亿&quot;,@&quot;十&quot;,@&quot;百&quot;,@&quot;千&quot;,@&quot;兆&quot;];</span><br><span class="line">    NSDictionary *dictionary = [NSDictionary dictionaryWithObjects:chinese_numerals forKeys:arabic_numerals];</span><br><span class="line"></span><br><span class="line">    NSMutableArray *sums = [NSMutableArray array];</span><br><span class="line">    for (int i = 0; i &lt; str.length; i ++) &#123;</span><br><span class="line">        NSString *substr = [str substringWithRange:NSMakeRange(i, 1)];</span><br><span class="line">        NSString *a = [dictionary objectForKey:substr];</span><br><span class="line">        NSString *b = digits[str.length -i-1];</span><br><span class="line">        NSString *sum = [a stringByAppendingString:b];</span><br><span class="line">        if ([a isEqualToString:chinese_numerals[9]])</span><br><span class="line">        &#123;</span><br><span class="line">            if([b isEqualToString:digits[4]] || [b isEqualToString:digits[8]])</span><br><span class="line">            &#123;</span><br><span class="line">                sum = b;</span><br><span class="line">                if ([[sums lastObject] isEqualToString:chinese_numerals[9]])</span><br><span class="line">                &#123;</span><br><span class="line">                    [sums removeLastObject];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;else</span><br><span class="line">            &#123;</span><br><span class="line">                sum = chinese_numerals[9];</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            if ([[sums lastObject] isEqualToString:sum])</span><br><span class="line">            &#123;</span><br><span class="line">                continue;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        [sums addObject:sum];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    NSString *sumStr = [sums  componentsJoinedByString:@&quot;&quot;];</span><br><span class="line">    NSString *chinese = [sumStr substringToIndex:sumStr.length-1];</span><br><span class="line">    NSLog(@&quot;%@&quot;,str);</span><br><span class="line">    NSLog(@&quot;%@&quot;,chinese);</span><br><span class="line">    return chinese;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="如何把一张大图缩小为1-4大小的缩略图？"><a href="#如何把一张大图缩小为1-4大小的缩略图？" class="headerlink" title="如何把一张大图缩小为1/4大小的缩略图？"></a>如何把一张大图缩小为1/4大小的缩略图？</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let data = UIImageJPEGRepresentation(image, 0.25)</span><br></pre></td></tr></table></figure>
<h3 id="UITextField实现对输入内容的限制"><a href="#UITextField实现对输入内容的限制" class="headerlink" title="UITextField实现对输入内容的限制"></a>UITextField实现对输入内容的限制</h3><pre><code>- (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string
    {
        BOOL result = YES;
            // restrict the maximum number of characters to 5
            if (textField.text.length == 5 &amp;&amp; string.length &gt; 0)
                    result = NO;
            return result;
    }
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">### 返回按钮只留下白色箭头</span><br></pre></td></tr></table></figure>

 [[UIBarButtonItem appearance] setBackButtonTitlePositionAdjustment:UIOffsetMake(0, -60)
                                                         forBarMetrics:UIBarMetricsDefault];
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">### @selector  设置string为方法</span><br></pre></td></tr></table></figure>

NSString *selName = [NSString stringWithFormat@&quot;button%i&quot;, i];
SEL selector = NSSelectorFromString(selName);
[button1 addTarget:self action:selector forControlEvents:UIControlEventTouchUpInside];
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">### 状态栏和导航栏高度</span><br></pre></td></tr></table></figure>

 // 状态栏(statusbar)  
    CGRect rectStatus = [[UIApplication sharedApplication] statusBarFrame];  
    NSLog(@&quot;status width - %f&quot;, rectStatus.size.width); // 宽度  
    NSLog(@&quot;status height - %f&quot;, rectStatus.size.height);   // 高度  
    // 导航栏（navigationbar）  
    CGRect rectNav = self.navigationController.navigationBar.frame;  
    NSLog(@&quot;nav width - %f&quot;, rectNav.size.width); // 宽度  
    NSLog(@&quot;nav height - %f&quot;, rectNav.size.height);   // 高度  
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">### iOS PresentViewControlle后,直接返回根视图</span><br></pre></td></tr></table></figure>

iOS PresentViewControlle后,直接返回根视图
在开发中：用[self presentViewController:VC animated:YES completion:nil];实现跳转，多次跳转后，直接返回第一个。
例如：
A presentViewController B
B presentViewController C
C 直接回到A：

返回第一个视图核心代码如下：
[self.presentingViewController.presentingViewController dismissViewControllerAnimated:YES completion:nil];
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">### 获取手机屏幕大小</span><br></pre></td></tr></table></figure>

UIScreen *currentScreen = [UIScreen  mainScreen];

NSLog(@&quot;applicationFrame.size.height = %f&quot;,currentScreen.applicationFrame.size.height);

NSLog(@&quot;applicationFrame.size.width = %f&quot;,currentScreen.applicationFrame.size.width);

NSLog(@&quot;applicationFrame.origin.x = %f&quot;,currentScreen.applicationFrame.origin.x);

NSLog(@&quot;applicationFrame.origin.y = %f&quot;,currentScreen.applicationFrame.origin.y);

NSLog(@&quot;bounds.x = %f&quot;,currentScreen.bounds.origin.x);

NSLog(@&quot;bounds.y = %f&quot;,currentScreen.bounds.origin.y);

NSLog(@&quot;bounds.height = %f&quot;,currentScreen.bounds.size.height);

NSLog(@&quot;bounds.width = %f&quot;,currentScreen.bounds.size.width);

NSLog(@&quot;brightness = %f&quot;,currentScreen.brightness);
更新：
iOS 9 之后：使用 [UIScreen  mainScreen].bounds代替 [UIScreen  mainScreen].applicationFrame
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">### 监测网络状态</span><br></pre></td></tr></table></figure>

只要网络状态发生了变化，在任何一个视图控制器都会给出相应的提示
说明： 这里需要导入第三方库，1. MBProgressHUD 2. AFNetworking
导入头文件 MBProgressHUD.h, AFNetworking.h
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {
    // 应用程序加载完成
UIWindow *window = ((AppDelegate *) [UIApplication sharedApplication].delegate).window;
AFNetworkReachabilityManager *manager = [AFNetworkReachabilityManager sharedManager];
    [manager setReachabilityStatusChangeBlock:^(AFNetworkReachabilityStatus status) {
        // 使用MBProgressHUD三方库创建弹框，给出相应的提示
        MBProgressHUD *hud = [MBProgressHUD showHUDAddedTo:window animated:YES];
        hud.mode = MBProgressHUDModeText;
        switch (status) {
            case AFNetworkReachabilityStatusNotReachable:
                // 弹框提示的内容
                hud.labelText = @&quot;世界上最遥远的距离就是没网&quot;;
                break;
            case AFNetworkReachabilityStatusReachableViaWWAN:
                hud.labelText = @&quot;2G/3G/4G&quot;;
                break;
            case AFNetworkReachabilityStatusReachableViaWiFi:
                hud.labelText = @&quot;WiFi在线&quot;;
            default:
                break;
        }
        dispatch_async(dispatch_get_global_queue(0, 0), ^{
            // 显示时间2s
            sleep(2);
            dispatch_async(dispatch_get_main_queue(), ^{
                // 让弹框消失
                [MBProgressHUD hideHUDForView:window animated:YES];
            });
        });
    }];
    [manager startMonitoring];
return YES;
}

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">### 处理标签字符串中的空格,换行,/t(制表符)等</span><br></pre></td></tr></table></figure>

- (NSString *)replaceStringWithString :(NSMutableString *)string
{
    NSString *string1 = [string stringByReplacingOccurrencesOfString:@&quot;\n&quot; withString:@&quot;&quot;] ;
    NSString *string2 = [string1 stringByReplacingOccurrencesOfString:@&quot; &quot; withString:@&quot;&quot;] ;
    NSString *string3 = [string2 stringByReplacingOccurrencesOfString:@&quot;\r&quot; withString:@&quot;&quot;] ;
    NSString *string4 = [string3 stringByReplacingOccurrencesOfString:@&quot;\t&quot; withString:@&quot;&quot;] ;
    return string4 ;
}
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">### UIImage与字符串互转</span><br></pre></td></tr></table></figure>

//图片转字符串  
-(NSString *)UIImageToBase64Str:(UIImage *) image  
{  
    NSData *data = UIImageJPEGRepresentation(image, 1.0f);  
    NSString *encodedImageStr = [data base64EncodedStringWithOptions:NSDataBase64Encoding64CharacterLineLength];  
    return encodedImageStr;  
}
//字符串转图片  
-(UIImage *)Base64StrToUIImage:(NSString *)_encodedImageStr  
{  
    NSData *_decodedImageData   = [[NSData alloc] initWithBase64Encoding:_encodedImageStr];  
    UIImage *_decodedImage      = [UIImage imageWithData:_decodedImageData];  
    return _decodedImage;  
}

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">### 取消图片的渲染</span><br></pre></td></tr></table></figure>

[button setImage:[[UIImage imageNamed:@&quot;1.jpg&quot; ] imageWithRenderingMode:UIImageRenderingModeAlwaysOriginal]  forState:UIControlStateNormal] ;
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">### 把图片做成圆形图标</span><br></pre></td></tr></table></figure>

self.headIconImageView = [[UIImageView alloc] initWithFrame:CGRectMake(10, 10, 40, 40)] ;
self.headIconImageView.layer.cornerRadius = 20 ; // 设置半径 
self.headIconImageView.layer.masksToBounds = YES ; // 边界是否允许截取
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">### 根据UILabel里的内容自适应高度</span><br></pre></td></tr></table></figure>

NSString *contentString = [dic objectForKey:@&quot;content&quot;] ; //从字典中提取字符串
CGRect rect = [contentString boundingRectWithSize:CGSizeMake(tableView.bounds.size.width, MAXFLOAT) options:NSStringDrawingUsesLineFragmentOrigin | NSStringDrawingUsesFontLeading attributes:@{NSFontAttributeName :[UIFont systemFontOfSize:15]} context:nil] ;
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">### 根据汉字字符串获取该字符串的拼音然后取得首字母</span><br></pre></td></tr></table></figure>

汉字转换为 拼音 获取首字母
//获取拼音首字母(传入汉字字符串, 返回大写拼音首字母)
/*
- (NSString *)firstCharactor:(NSString *)aString
{
    //转成了可变字符串
    NSMutableString *str = [NSMutableString stringWithString:aString];
    //先转换为带声调的拼音
    CFStringTransform((CFMutableStringRef)str,NULL, kCFStringTransformMandarinLatin,NO);
    //再转换为不带声调的拼音
    CFStringTransform((CFMutableStringRef)str,NULL, kCFStringTransformStripDiacritics,NO);
    //转化为大写拼音
    NSString *pinYin = [str capitalizedString];
    //获取并返回首字母
    return [pinYin substringToIndex:1];
}
*/
        NSString *string = @&quot;简书&quot; ;
        if ([string length])
        {
            NSMutableString *mutableString = [NSMutableString stringWithString:string] ;
            /**
             *  由于此方法是在coreFoundation框架下,咱们平时所使用的类型都是Foundation框架下的,所以需要转换类型.
             *
             *  @param string#&gt;    string 所需要转换的原字符#&gt;
             *  @param range#&gt;     range 所需要转换字符的范围.如果为0或者是NULL意思是所有字符都转换#&gt;
             *  @param transform#&gt; transform 转换方式#&gt;
             *  @param reverse#&gt;   reverse 如果为YES,返回原字符串;如果为NO,返回转换之后的字符串#&gt;
             *
             *  @return return value description
             */
            // 将所有非英文的字符转换为拉丁字母,并且带声调和重音标识
            // __bridge :只改变当前对象的类型,但是不改变对象内存的管理权限
            CFStringTransform((__bridge CFMutableStringRef)mutableString , 0,kCFStringTransformToLatin , NO) ;
// 去掉声调
            CFStringTransform((__bridge CFMutableStringRef)mutableString , 0,kCFStringTransformStripDiacritics , NO) ;
// 每个单词的首字母大写 后再截取字符串
            NSString *str = [[mutableString capitalizedString] substringToIndex:1];
        }
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">### 设置leftButtonItem为圆形按钮</span><br></pre></td></tr></table></figure>

UIButton *btnOne = [[UIButton alloc] initWithFrame:CGRectMake(150, 250, 40, 40)];
    [btnOne setTitle:@&quot;&quot; forState:UIControlStateNormal];
    [btnOne setTitleColor:[UIColor whiteColor] forState:UIControlStateNormal];
    [btnOne setBackgroundColor:[UIColor colorWithRed:228.0/255.0 green:117.0/255.0 blue:97.0/255.0 alpha:1.0]];
    btnOne.layer.masksToBounds = YES;
    btnOne.layer.cornerRadius = btnOne.frame.size.height / 2;
    [btnOne setBackgroundImage:[UIImage imageNamed:@&quot;scenery.jpg&quot;] forState:UIControlStateNormal];
    [self.view addSubview:btnOne];
    UIBarButtonItem *leftButton = [[UIBarButtonItem alloc] init];
    leftButton.customView=btnOne;
    self.navigationItem.leftBarButtonItem=leftButton;
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">### 设置导航栏透明并隐藏下面的黑线</span><br></pre></td></tr></table></figure>

   [[UINavigationBar appearance]  setBackgroundImage:[[UIImage alloc] init] forBarPosition:UIBarPositionAny barMetrics:UIBarMetricsDefault];
    [[UINavigationBar appearance] setShadowImage:[[UIImage alloc] init]];
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">### 设置黑色半透明tabbar</span><br></pre></td></tr></table></figure>

默认是白色半透明
tabBarController.tabBar.barStyle = UIBarStyleBlack;
tabBarController.tabBar.translucent = NO;//是否透明
tabBarController.tabBar.alpha=0.3;//设置透明度
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">### 设置leftBarButtonItem&amp;设置偏移</span><br></pre></td></tr></table></figure>

UIButton *btnOne = [[UIButton alloc] initWithFrame:CGRectMake(0, 0, 40, 40)];
    [btnOne setTitle:@&quot;&quot; forState:UIControlStateNormal];
    [btnOne setTitleColor:[UIColor whiteColor] forState:UIControlStateNormal];


    UIImage *resultImage = [UIImage imageNamed:@&quot;h3.jpg&quot;];
    [btnOne setImage:[resultImage imageWithRenderingMode:UIImageRenderingModeAlwaysOriginal]forState:UIControlStateNormal];


    btnOne.layer.borderWidth=2;
    btnOne.layer.borderColor=[UIColor colorWithRed:69.0/255.0 green:96.0/255.0 blue:125.0/255.0 alpha:1.0].CGColor;
    btnOne.layer.cornerRadius=btnOne.frame.size.height / 2;
    btnOne.layer.masksToBounds = YES;



    UIBarButtonItem *leftButtonItem = [[UIBarButtonItem alloc] init];
    leftButtonItem.customView=btnOne;


    UIBarButtonItem *negativeSpacer = [[UIBarButtonItem alloc]initWithBarButtonSystemItem:UIBarButtonSystemItemFixedSpace target:nil action:nil];
    negativeSpacer.width = -10;
    self.navigationItem.leftBarButtonItems = @[negativeSpacer, leftButtonItem];
</code></pre>	  

	  <div>
  		<center>
		  <div class="pagination">
<ul class="pagination">
	
	
	
	
	
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
			
		
	
		
	
		
	
		
	
		
			
		
	
		
	
		
			
		
	
		
	
		
	
		
	
		
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
			
		
	
		
	
		
	
		
	
		
	
		
			
			
		
	
		
	
		
	
		
	
	
	
		<li class="prev"><a href="/2016/06/06/iOS/iOS常用分类/" class="alignleft prev"><i class="fa fa-arrow-circle-o-left"></i>prev</a></li>
	
	<li><a href="/"><i class="fa fa-archive"></i>Home</a></li>
	
		<li class="next disabled"><a>next<i class="fa fa-arrow-circle-o-right"></i></a></li>
	
</ul>
</div>

		</center>
	  </div>
	  
	</div> <!-- col-md-9/col-md-12 -->
	
  </div><!-- row -->

	</div>
  </div>
  <div class="container-narrow">
	<footer> <p>
  &copy; 2016 John Doe
  
      with help from <a href="http://zespia.tw/hexo/" target="_blank">Hexo</a> and <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>. Theme by <a href="http://github.com/wzpan/hexo-theme-wixo/">Wixo</a>.    
</p> </footer>
  </div> <!-- container-narrow -->
  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/jquery.tableofcontents.min.js"></script>
<script src="/js/tocgenerator.min.js"></script>
<script src="/js/main.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>


</body>
</html>
