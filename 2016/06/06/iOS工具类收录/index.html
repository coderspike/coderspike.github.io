<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> iOS工具类收录 · coder-gwb</title><meta name="description" content="iOS工具类收录 - null"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="http://fonts.useso.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">首页</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">归档</a></li><li class="nav-list-item"><a href="/categories/编程" target="_self" class="nav-list-link">编程</a></li><li class="nav-list-item"><a href="/categories/读书" target="_self" class="nav-list-link">读书</a></li><li class="nav-list-item"><a href="/categories/生活" target="_self" class="nav-list-link">生活</a></li><li class="nav-list-item"><a href="https://github.com/coderspike" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">iOS工具类收录</h1><div class="post-info">2016年6月6日</div><div class="post-content"><blockquote>
<p>有一些分类在开发中经常应用，做一个收录。</p>
</blockquote>
<h3 id="UIView"><a href="#UIView" class="headerlink" title="UIView"></a>UIView</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">建立类别</span><br><span class="line">建立一个名为Layout的UIView类别，类别的代码如下：</span><br><span class="line">1. UIView+Layout.h</span><br><span class="line">.h 文件定义了 x, y, width, height 等方便读写的属性，代码如下：</span><br><span class="line">#import &lt;UIKit/UIKit.h&gt;</span><br><span class="line">@interface UIView (Layout)</span><br><span class="line">@property (assign, nonatomic) CGFloat    top;@property (assign, nonatomic) CGFloat    bottom;@property (assign, nonatomic) CGFloat    left;@property (assign, nonatomic) CGFloat    right;</span><br><span class="line">@property (assign, nonatomic) CGFloat    x;@property (assign, nonatomic) CGFloat    y;@property (assign, nonatomic) CGPoint    origin;</span><br><span class="line">@property (assign, nonatomic) CGFloat    centerX;@property (assign, nonatomic) CGFloat    centerY;</span><br><span class="line">@property (assign, nonatomic) CGFloat    width;@property (assign, nonatomic) CGFloat    height;@property (assign, nonatomic) CGSize    size;</span><br><span class="line">@end</span><br><span class="line">2. UIView+Layout.m</span><br><span class="line">.m 文件实现各个属性的setter和getter方法，代码如下：</span><br><span class="line">#import &quot;UIView+Layout.h&quot;</span><br><span class="line">@implementation UIView (Layout)</span><br><span class="line">@dynamic top;@dynamic bottom;@dynamic left;@dynamic right;</span><br><span class="line">@dynamic width;@dynamic height;</span><br><span class="line">@dynamic size;</span><br><span class="line">@dynamic x;@dynamic y;</span><br><span class="line">- (CGFloat)top&#123;    return self.frame.origin.y;&#125;</span><br><span class="line">- (void)setTop:(CGFloat)top&#123;    CGRect frame = self.frame;    frame.origin.y = top;    self.frame = frame;&#125;</span><br><span class="line">- (CGFloat)left&#123;    return self.frame.origin.x;&#125;</span><br><span class="line">- (void)setLeft:(CGFloat)left&#123;    CGRect frame = self.frame;    frame.origin.x = left;    self.frame = frame;&#125;</span><br><span class="line">- (CGFloat)bottom&#123;    return self.frame.size.height + self.frame.origin.y;&#125;</span><br><span class="line">- (void)setBottom:(CGFloat)bottom&#123;    CGRect frame = self.frame;    frame.origin.y = bottom - frame.size.height;    self.frame = frame;&#125;</span><br><span class="line">- (CGFloat)right&#123;    return self.frame.size.width + self.frame.origin.x;&#125;</span><br><span class="line">- (void)setRight:(CGFloat)right&#123;    CGRect frame = self.frame;    frame.origin.x = right - frame.size.width;    self.frame = frame;&#125;</span><br><span class="line">- (CGFloat)x&#123;    return self.frame.origin.x;&#125;</span><br><span class="line">- (void)setX:(CGFloat)value&#123;    CGRect frame = self.frame;    frame.origin.x = value;    self.frame = frame;&#125;</span><br><span class="line">- (CGFloat)y&#123;    return self.frame.origin.y;&#125;</span><br><span class="line">- (void)setY:(CGFloat)value&#123;    CGRect frame = self.frame;    frame.origin.y = value;    self.frame = frame;&#125;</span><br><span class="line">- (CGPoint)origin&#123;    return self.frame.origin;&#125;</span><br><span class="line">- (void)setOrigin:(CGPoint)origin&#123;    CGRect frame = self.frame;    frame.origin = origin;    self.frame = frame;&#125;</span><br><span class="line">- (CGFloat)centerX&#123;    return self.center.x;&#125;</span><br><span class="line">- (void)setCenterX:(CGFloat)centerX&#123;    CGPoint center = self.center;    center.x = centerX;    self.center = center;&#125;</span><br><span class="line">- (CGFloat)centerY&#123;    return self.center.y;&#125;</span><br><span class="line">- (void)setCenterY:(CGFloat)centerY&#123;    CGPoint center = self.center;    center.y = centerY;    self.center = center;&#125;</span><br><span class="line">- (CGFloat)width&#123;    return self.frame.size.width;&#125;</span><br><span class="line">- (void)setWidth:(CGFloat)width&#123;    CGRect frame = self.frame;    frame.size.width = width;    self.frame = frame;&#125;</span><br><span class="line">- (CGFloat)height&#123;    return self.frame.size.height;&#125;</span><br><span class="line">- (void)setHeight:(CGFloat)height&#123;    CGRect frame = self.frame;    frame.size.height = height;    self.frame = frame;&#125;</span><br><span class="line">- (CGSize)size&#123;    return self.frame.size;&#125;</span><br><span class="line">- (void)setSize:(CGSize)size&#123;    CGRect frame = self.frame;    frame.size = size;    self.frame = frame;&#125;</span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line">二、使用</span><br><span class="line">类别创建完成以后，view的布局就显得轻松很多了</span><br><span class="line">例如原来你要修改y坐标时要这样写：</span><br><span class="line">view.frame = CGRectMake(view.frame.origin.x, 100, view.frame.size.width, view.frame.size.height);</span><br><span class="line">而现在只需要这样写：</span><br><span class="line">view.y = 100;</span><br></pre></td></tr></table></figure>
<h3 id="阿拉伯数字转化为汉语数字"><a href="#阿拉伯数字转化为汉语数字" class="headerlink" title="阿拉伯数字转化为汉语数字"></a>阿拉伯数字转化为汉语数字</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">+(NSString *)translation:(NSString *)arebic</span><br><span class="line"></span><br><span class="line">&#123;   NSString *str = arebic;</span><br><span class="line">    NSArray *arabic_numerals = @[@&quot;1&quot;,@&quot;2&quot;,@&quot;3&quot;,@&quot;4&quot;,@&quot;5&quot;,@&quot;6&quot;,@&quot;7&quot;,@&quot;8&quot;,@&quot;9&quot;,@&quot;0&quot;];</span><br><span class="line">    NSArray *chinese_numerals = @[@&quot;一&quot;,@&quot;二&quot;,@&quot;三&quot;,@&quot;四&quot;,@&quot;五&quot;,@&quot;六&quot;,@&quot;七&quot;,@&quot;八&quot;,@&quot;九&quot;,@&quot;零&quot;];</span><br><span class="line">    NSArray *digits = @[@&quot;个&quot;,@&quot;十&quot;,@&quot;百&quot;,@&quot;千&quot;,@&quot;万&quot;,@&quot;十&quot;,@&quot;百&quot;,@&quot;千&quot;,@&quot;亿&quot;,@&quot;十&quot;,@&quot;百&quot;,@&quot;千&quot;,@&quot;兆&quot;];</span><br><span class="line">    NSDictionary *dictionary = [NSDictionary dictionaryWithObjects:chinese_numerals forKeys:arabic_numerals];</span><br><span class="line"></span><br><span class="line">    NSMutableArray *sums = [NSMutableArray array];</span><br><span class="line">    for (int i = 0; i &lt; str.length; i ++) &#123;</span><br><span class="line">        NSString *substr = [str substringWithRange:NSMakeRange(i, 1)];</span><br><span class="line">        NSString *a = [dictionary objectForKey:substr];</span><br><span class="line">        NSString *b = digits[str.length -i-1];</span><br><span class="line">        NSString *sum = [a stringByAppendingString:b];</span><br><span class="line">        if ([a isEqualToString:chinese_numerals[9]])</span><br><span class="line">        &#123;</span><br><span class="line">            if([b isEqualToString:digits[4]] || [b isEqualToString:digits[8]])</span><br><span class="line">            &#123;</span><br><span class="line">                sum = b;</span><br><span class="line">                if ([[sums lastObject] isEqualToString:chinese_numerals[9]])</span><br><span class="line">                &#123;</span><br><span class="line">                    [sums removeLastObject];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;else</span><br><span class="line">            &#123;</span><br><span class="line">                sum = chinese_numerals[9];</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            if ([[sums lastObject] isEqualToString:sum])</span><br><span class="line">            &#123;</span><br><span class="line">                continue;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        [sums addObject:sum];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    NSString *sumStr = [sums  componentsJoinedByString:@&quot;&quot;];</span><br><span class="line">    NSString *chinese = [sumStr substringToIndex:sumStr.length-1];</span><br><span class="line">    NSLog(@&quot;%@&quot;,str);</span><br><span class="line">    NSLog(@&quot;%@&quot;,chinese);</span><br><span class="line">    return chinese;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="如何把一张大图缩小为1-4大小的缩略图？"><a href="#如何把一张大图缩小为1-4大小的缩略图？" class="headerlink" title="如何把一张大图缩小为1/4大小的缩略图？"></a>如何把一张大图缩小为1/4大小的缩略图？</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let data = UIImageJPEGRepresentation(image, 0.25)</span><br></pre></td></tr></table></figure>
<h3 id="十六进制的颜色值转换为UIColor"><a href="#十六进制的颜色值转换为UIColor" class="headerlink" title="十六进制的颜色值转换为UIColor"></a>十六进制的颜色值转换为UIColor</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">UIColor+Hex.h里面中</span><br><span class="line">#import &lt;UIKit/UIKit.h&gt;</span><br><span class="line">@interface UIColor (Hex)+ (UIColor *) colorWithHexString: (NSString *)color;@end</span><br><span class="line"> </span><br><span class="line">UIColor+Hex.m里面中</span><br><span class="line"></span><br><span class="line">#import &quot;UIColor+Hex.h&quot;</span><br><span class="line">@implementation UIColor (Hex)</span><br><span class="line">#pragma mark - 颜色转换 iOS中十六进制的颜色转换为UIColor</span><br><span class="line">+ (UIColor *) colorWithHexString: (NSString *)hexString&#123;    NSString *cString = [[hexString stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceAndNewlineCharacterSet]] uppercaseString];        //hexString应该6到8个字符    if ([cString length] &lt; 6) &#123;        return [UIColor clearColor];    &#125;        //如果hexString 有@&quot;0X&quot;前缀    if ([cString hasPrefix:@&quot;0X&quot;])        cString = [cString substringFromIndex:2];        //如果hexString 有@&quot;#&quot;&quot;前缀    if ([cString hasPrefix:@&quot;#&quot;])        cString = [cString substringFromIndex:1];    if ([cString length] != 6)        return [UIColor clearColor];        //RGB转换    NSRange range;    range.location = 0;    range.length = 2;        //R    NSString *rString = [cString substringWithRange:range];        //G    range.location = 2;    NSString *gString = [cString substringWithRange:range];        //B    range.location = 4;    NSString *bString = [cString substringWithRange:range];        //    unsigned int r, g, b;    [[NSScanner scannerWithString:rString] scanHexInt:&amp;r];    [[NSScanner scannerWithString:gString] scanHexInt:&amp;g];    [[NSScanner scannerWithString:bString] scanHexInt:&amp;b];        return [UIColor colorWithRed:((float) r / 255.0f) green:((float) g / 255.0f) blue:((float) b / 255.0f) alpha:1.0f];&#125;</span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line">使用方法：</span><br><span class="line">//1、添加头文件#import &quot;UIColor+Hex.h&quot;</span><br><span class="line">//2、在需要的地方 [UIColor colorWithHexString:@&quot;十六进制&quot;]//eg:[self.view setBackgroundColor:[UIColor colorWithHexString:@&quot;#11489B&quot;]];</span><br></pre></td></tr></table></figure>
<h3 id="UITextField实现对输入内容的限制"><a href="#UITextField实现对输入内容的限制" class="headerlink" title="UITextField实现对输入内容的限制"></a>UITextField实现对输入内容的限制</h3><pre><code>- (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string
    {
        BOOL result = YES;
            // restrict the maximum number of characters to 5
            if (textField.text.length == 5 &amp;&amp; string.length &gt; 0)
                    result = NO;
            return result;
    }
</code></pre></div></article></div></section><footer><div class="paginator"><a href="/2016/06/12/UIView简介和常用方法/" class="prev">PREV</a><a href="/2016/06/06/iOS页面流/" class="next">NEXT</a></div><div data-thread-key="2016/06/06/iOS工具类收录/" data-title="iOS工具类收录" data-url="http://yoursite.com/2016/06/06/iOS工具类收录/" data-author-key="1" class="ds-thread"></div><script>var duoshuoQuery = {short_name:"true"};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
})();

</script><div class="copyright"><p>© 2015 - 2016 <a href="http://yoursite.com"></a>, unless otherwise noted.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>