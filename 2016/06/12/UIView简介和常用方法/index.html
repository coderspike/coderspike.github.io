<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>UIView简介和常用方法 | spike 代码之美</title>
  <meta name="author" content="John Doe">
  
  <meta name="description" content="UIView表示屏幕上的一块矩形区域，负责渲染区域的内容，并且响应该区域内发生的触摸事件。
继承关系：NSObject—UIResponder—UIView
屏幕上能够看见的都是UIView每一个UIView都是容器
bounds的x,y永远为0(以自身左上角为原点)，frame的x,y以父视图的左上角为原点">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="UIView简介和常用方法"/>
  <meta property="og:site_name" content="spike 代码之美"/>

  
    <meta property="og:image" content="undefined"/>
  

  
    <link rel="alternative" href="/atom.xml" title="spike 代码之美" type="application/atom+xml">
  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">  
  <link rel="stylesheet" href="/css/sidenav.css" media="screen" type="text/css">  
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  

</head>

<body id="body" data-spy="scroll" data-target=".toc">
  <div class="container" id="container">
	<div class="content">
	  <div class="page-header">		
  <h1><a class="brand" href="/">spike 代码之美</a><span class="split"></span><span class="title">UIView简介和常用方法</span><span class="date" id="title-date"><i class="fa fa-clock-o"></i> 2016-06-12</span></h1>
</div>		

<div class="row page">
  <!-- cols -->	
  
  

  
	<div class="col-md-12">
	  

	  <!-- content -->
	  <blockquote>
<p>UIView表示屏幕上的一块矩形区域，负责渲染区域的内容，并且响应该区域内发生的触摸事件。</p>
<p>继承关系：NSObject—UIResponder—UIView</p>
<p>屏幕上能够看见的都是UIView<br>每一个UIView都是容器</p>
<p>bounds的x,y永远为0(以自身左上角为原点)，frame的x,y以父视图的左上角为原点</p>
</blockquote>
<a id="more"></a>
<h3 id="常见属性"><a href="#常见属性" class="headerlink" title="常见属性"></a>常见属性</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@property frame</span><br><span class="line">@property bounds</span><br><span class="line">@property center</span><br><span class="line">@property transform</span><br><span class="line">@property alpha</span><br><span class="line">@property backgroundColor</span><br><span class="line">@property contentStretch</span><br></pre></td></tr></table></figure>
<h3 id="UIView层的操作常用方法"><a href="#UIView层的操作常用方法" class="headerlink" title="UIView层的操作常用方法"></a>UIView层的操作常用方法</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(void)removeFromSuperview; // 从父视图中移除</span><br><span class="line">(void)addSubview:(UIView *)view; // 添加一个子视图</span><br><span class="line">(void)insertSubview:(UIView *)view belowSubview:(UIView *)slibingSubview; // 插入一个view到某个view的下层</span><br><span class="line">(void)insertSubview:(UIView *)view aboveSubview:(UIView *)slibingSubview; // 插入一个view到某个view的上层</span><br><span class="line">(void)insertSubview:(UIView *)view atIndex:(NSInteger)index; // 插入一个view到特定层</span><br><span class="line">(void)bringSubviewToFront:(UIView *)view; // 将某个view放在最上层</span><br><span class="line">(void)sendSubviewToBack:(UIView *)view; // 将某个view放在最下层</span><br><span class="line">(BOOL)isDescendantOfView(UIView *)view; // 是否是某个视图的子孙视图</span><br><span class="line">(void)exchangeSubviewAtIndex:(NSInteger)index1 withSubviewAtIndex:(NSInteger)index2; // 交换两个层的view</span><br><span class="line">(UIView *)viewWithTag:(NSInteger)view; // 取到指定tag值的view</span><br></pre></td></tr></table></figure>
<h3 id="UIView的加载过程"><a href="#UIView的加载过程" class="headerlink" title="UIView的加载过程"></a>UIView的加载过程</h3><p><img src="http://ww2.sinaimg.cn/mw1024/bc254b75jw1f4usac93ohj20mi0vsac7.jpg" alt="view"><br>我们可以知道如果是从 Storyboard 或 Nib 文件中加载 View Controller，我们都不要去重载 loadView，它会自动加载 view 属性以及它的各个 Subviews。只有当我们自己代码创建 View Controller 的时候，我们可能需要去重载 loadView。当然，如果我们不重载，那么默认情况下 loadView 会创建一个光秃秃的 UIView 对象赋给 view 属性。<br>loadView:先寻找有关可用的nib文件的信息，根据这个信息来加载nib文件，如果没有有关nib文件的信息，默认实现会创建一个空白的UIView对象，然后让这个对象成为controller的主view<br>首先访问view属性<br>如果存在view，加载。若不存在，则UIViewController调用loadView方法<br>loadView方法执行如下操作<br>如果覆盖了该方法，必须创建view给UIViewController的view属性<br>如果没有复写该方法，UIViewController会默认调用initWithNibName:bundle:方法初始化并加载view<br>通过viewDidLoad方法来执行一些其他任务</p>
<h3 id="UIViewController生命周期"><a href="#UIViewController生命周期" class="headerlink" title="UIViewController生命周期"></a>UIViewController生命周期</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(void)viewDidLoad; //视图加载完成</span><br><span class="line">(void)viewWillAppear:(BOOL)animated; // 将要显示</span><br><span class="line">(void)viewDidAppear:(BOOL)animated; // 显示完成</span><br><span class="line">(void)viewWillDisappear:(BOOL)animated; // 将要移除</span><br><span class="line">(void)viewDidDisappear:(BOOL)animated; // 已经移除</span><br><span class="line">详细版本：</span><br><span class="line">1. -[ViewController initWithCoder:]或-[ViewController initWithNibName:Bundle]:首先从归档文件中加载UIViewController对象。即使是纯代码，也会把nil作为参数传给后者。</span><br><span class="line">	2. -[UIView awakeFromNib]:作为第一个方法的助手，方便处理一些额外的设置。</span><br><span class="line">	3. -[ViewController loadView]:创建或加载一个view并把它赋值给UIViewController的view属性</span><br><span class="line">	4. -[ViewController viewDidLoad]:此时整个视图层次(view hierarchy)已经被放到内存中，可以移除一些视图，修改约束，加载数据等</span><br><span class="line">	5. -[ViewController viewWillAppear:]:视图加载完成，并即将显示在屏幕上,还没有设置动画，可以改变当前屏幕方向或状态栏的风格等。</span><br><span class="line">	6. -[ViewController viewWillLayoutSubviews]：即将开始子视图位置布局</span><br><span class="line">	7. -[ViewController viewDidLayoutSubviews]：用于通知视图的位置布局已经完成</span><br><span class="line">	8. -[ViewController viewDidAppear:]：视图已经展示在屏幕上，可以对视图做一些关于展示效果方面的修改。</span><br><span class="line">	9. -[ViewController viewWillDisappear:]：视图即将消失</span><br><span class="line">	10. -[ViewController viewDidDisappear:]：视图已经消失</span><br><span class="line">如果考虑UIViewController可能在某个时刻释放整个view。那么再次加载视图时显然会从步骤3开始。因为此时的UIViewController对象依然存在。</span><br></pre></td></tr></table></figure>
<h3 id="UIView、UIWindow、UIScreen、UIViewController-之间的层级关系"><a href="#UIView、UIWindow、UIScreen、UIViewController-之间的层级关系" class="headerlink" title="UIView、UIWindow、UIScreen、UIViewController 之间的层级关系"></a>UIView、UIWindow、UIScreen、UIViewController 之间的层级关系</h3><p><img src="http://ww1.sinaimg.cn/mw1024/bc254b75jw1f4usaaorkrj20y00i8gni.jpg" alt=""> </p>
<h3 id="UIView的bounds-frame和center属性"><a href="#UIView的bounds-frame和center属性" class="headerlink" title="UIView的bounds,frame和center属性"></a>UIView的bounds,frame和center属性</h3><p><img src="http://ww3.sinaimg.cn/mw1024/bc254b75jw1f4usab9jhfj20dk0abwf7.jpg" alt="bound"><br>看着上图，对照一下就很清楚了<br>View B’s bounds= ((0,0),(200,250))<br>View B’s frame= ((140,65),(320,320))<br>View B’s center= (300,225)</p>
<h3 id="常用方法收录"><a href="#常用方法收录" class="headerlink" title="常用方法收录"></a>常用方法收录</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">===获取指定的subViewfor(UIView *view in subviews)</span><br><span class="line">&#123;</span><br><span class="line">if(view.tag == 998)</span><br><span class="line">&#123;</span><br><span class="line">//根据tag判断</span><br><span class="line">&#125;</span><br><span class="line">if([view isKindOfClass:[UIImageView class]])</span><br><span class="line">&#123;</span><br><span class="line">//根据类型判断</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">===做一个与屏幕同等大小的UIView</span><br><span class="line">方法一：</span><br><span class="line"> #pragma mark - Setup</span><br><span class="line">- (void)setupUI &#123;</span><br><span class="line">// Use full screen layout.</span><br><span class="line">self.edgesForExtendedLayout = UIRectEdgeAll;</span><br><span class="line">self.automaticallyAdjustsScrollViewInsets = YES;</span><br><span class="line">self.extendedLayoutIncludesOpaqueBars = YES;</span><br><span class="line">self.view.backgroundColor = [UIColor whiteColor];</span><br><span class="line">// Title.</span><br><span class="line">self.title = @&quot;Detail&quot;;</span><br><span class="line">&#125;</span><br><span class="line">方法二：</span><br><span class="line">CGRect rect = [[UIScreen mainScreen] bounds];</span><br><span class="line">CGSize size = rect.size;</span><br><span class="line">CGFloat width = size.width;</span><br><span class="line">CGFloat height = size.height; </span><br><span class="line">CGRectMake(origin.x，origin.y，size.width. Size.height)在代码中定义矩形</span><br><span class="line">Frame:     该view在父view坐标系统中的位置和大小。（参照点是，父亲的坐标系统）</span><br><span class="line">bounds：该view在本地坐标系统中的位置和大小。   （参照点是，本地坐标系统，就相当于ViewB自己的坐标系统，以0,0点为起点）</span><br><span class="line">center： 该view的中心点在父view坐标系统中的位置和大小。（参照点是，父亲的坐标系统）</span><br><span class="line">===UIView添加UITableView      TestTableViewController *viewController = [[TestTableViewController alloc] init];</span><br><span class="line">      [self addChildViewController:viewController];</span><br><span class="line">      [self.view addSubview:viewController.view];</span><br><span class="line">      [viewController didMoveToParentViewController:self];</span><br><span class="line">      [如果不添加controller 则viewController 则不具备跳转等controller功能]</span><br><span class="line">      </span><br><span class="line">===设置uiView的位置</span><br><span class="line">aView.frame = CGRectMake( 100, 200, aView.frame.size.width, aView.frame.size.height ); // set new position exactly</span><br><span class="line"></span><br><span class="line">===remove view from superView</span><br><span class="line"></span><br><span class="line">for (UIView* subView in [self.view.subviews])&#123;    if ([subView isKindOfClass:[ZeldaView class]])        [subView removeFromSuperview];&#125;</span><br><span class="line">===添加一条分割线</span><br><span class="line">UIView *navDividingLine = [[UIView alloc] initWithFrame:CGRectMake(0,159,self.view.bounds.size.width,1)];</span><br><span class="line">        navDividingLine.backgroundColor = [UIColor groupTableViewBackgroundColor];  //这个颜色就是默认表格线的颜色</span><br><span class="line">        [navDividingLine sizeToFit];</span><br><span class="line">        [self.view addSubview:navDividingLine];</span><br></pre></td></tr></table></figure>
<h3 id="UIView设置圆角"><a href="#UIView设置圆角" class="headerlink" title="UIView设置圆角"></a>UIView设置圆角</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">    1、比较简单的情况，UIView四个角都是圆角：</span><br><span class="line"></span><br><span class="line">    UIView *aView = [[UIView alloc] init];        aView.frame = CGRectMake(0, 0, 300, 200);    aView.backgroundColor = [UIColor redColor];        //设置圆角边框        aView.layer.cornerRadius = 8;        aView.layer.masksToBounds = YES;        //设置边框及边框颜色        aView.layer.borderWidth = 8;        aView.layer.borderColor =[ [UIColor grayColor] CGColor];        [self.view addSubview:aView];</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">    2、设置四个角中的某个或者某几个为圆角</span><br><span class="line"></span><br><span class="line">    UIView *aView = [[UIView alloc] init];        aView.frame = CGRectMake(0, 0, 300, 200);    aView.backgroundColor = [UIColor redColor];        [self.view addSubview:aView];        //设置所需的圆角位置以及大小    UIBezierPath *maskPath = [UIBezierPath bezierPathWithRoundedRect:aView.bounds byRoundingCorners:UIRectCornerBottomLeft | UIRectCornerBottomRight cornerRadii:CGSizeMake(10, 10)];    CAShapeLayer *maskLayer = [[CAShapeLayer alloc] init];    maskLayer.frame = aView.bounds;    maskLayer.path = maskPath.CGPath;    aView.layer.mask = maskLayer;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">其中，UIRectCornerBottomLeft，UIRectCornerBottomRight是可以选择的角。</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">typedef NS_OPTIONS(NSUInteger, UIRectCorner) &#123;    UIRectCornerTopLeft     = 1 &lt;&lt; 0,    UIRectCornerTopRight    = 1 &lt;&lt; 1,    UIRectCornerBottomLeft  = 1 &lt;&lt; 2,    UIRectCornerBottomRight = 1 &lt;&lt; 3,    UIRectCornerAllCorners  = ~0UL&#125;;</span><br><span class="line"></span><br><span class="line">上面的枚举是可以供选择的角，分别是：“左上角”、“右上角”、“左下角”、“右下角”。</span><br></pre></td></tr></table></figure>
	  

	  <div>
  		<center>
		  <div class="pagination">
<ul class="pagination">
	
	
	
	
	
	
		
	
		
	
		
	
		
	
		
			
		
	
		
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
			
			
		
	
		
	
		
	
		
	
		
			
			
			
		
	
		
	
		
			
		
	
		
	
		
	
	
	
		<li class="prev"><a href="/2016/07/04/布局相关/" class="alignleft prev"><i class="fa fa-arrow-circle-o-left"></i>prev</a></li>
	
	<li><a href="/"><i class="fa fa-archive"></i>Home</a></li>
	
		<li class="next"><a href="/2016/05/31/UITableView的使用/" class="alignright next">next<i class="fa fa-arrow-circle-o-right"></i></a></li>
	
</ul>
</div>

		</center>
	  </div>
	  
	</div> <!-- col-md-9/col-md-12 -->
	
  </div><!-- row -->

	</div>
  </div>
  <div class="container-narrow">
	<footer> <p>
  &copy; 2016 John Doe
  
      with help from <a href="http://zespia.tw/hexo/" target="_blank">Hexo</a> and <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>. Theme by <a href="http://github.com/wzpan/hexo-theme-wixo/">Wixo</a>.    
</p> </footer>
  </div> <!-- container-narrow -->
  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/jquery.tableofcontents.min.js"></script>
<script src="/js/tocgenerator.min.js"></script>
<script src="/js/main.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>


</body>
</html>
